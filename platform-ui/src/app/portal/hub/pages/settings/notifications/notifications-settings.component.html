<div class="notifications-container">

    <form
        [formGroup]="notificationsForm"
        (ngSubmit)="onSave()"
    >
        <h1>
            {{ 'notifications.editTitle' | translate }}
        </h1>

        <div class="section">
            <div class="switch-field">
                <input
                    tuiSwitch
                    type="checkbox"
                    formControlName="isNotificationsEnabled"
                    name="notificationsToggle"
                >
                <label class="switch-label">
                    {{ 'notifications.enableNotifications' | translate }}
                </label>
            </div>
        </div>

        <div class="section">
            <div class="switch-field">
                <input
                    tuiSwitch
                    type="checkbox"
                    formControlName="isNewsletterEnabled"
                    name="newsletterToggle"
                >
                <label class="switch-label">
                    {{ 'notifications.enableNewsletters' | translate }}
                </label>
            </div>
        </div>

        <div
            *ngIf="calendarUrl"
            class="section calendar-section"
        >
            <h2>
                {{ 'notifications.calendar.title' | translate }}
            </h2>
            <p class="calendar-description">
                {{ 'notifications.calendar.description' | translate }}
            </p>
            <div class="url-display">
                <tui-textfield>
                    <input
                        tuiTextfield
                        [value]="calendarUrl"
                        [readOnly]="true"
                        (click)="copyCalendarUrl()"
                    >
                </tui-textfield>
                <button
                    appearance="secondary"
                    tuiButton
                    type="button"
                    (click)="copyCalendarUrl()"
                >
                    {{ 'notifications.calendar.copyUrl' | translate }}
                </button>
            </div>
        </div>

        <button
            appearance="accent"
            tuiButton
            size="l"
            type="submit"
        >
            {{ 'notifications.saveButton' | translate }}
        </button>
    </form>
</div>
