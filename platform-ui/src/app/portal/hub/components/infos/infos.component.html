<div class="infos-container">
    <div class="infos-next-ag-date">
        <h2>
            <tui-icon icon="@tui.calendar" [style.width.px]="16" />

            {{ 'infos.nextAGDate' | translate }}
        </h2>
        <div *ngIf="infos().nextAGDate; else noDateTemplate" class="ag-date-time">
            <span class="ag-date">{{ formatDate(infos().nextAGDate) }}</span>
            <div class="ag-time-container">
                <tui-icon icon="@tui.clock" class="time-icon"></tui-icon>
                <span class="ag-time">{{ formatTime(infos().nextAGDate) }}</span>
            </div>
        </div>
        <ng-template #noDateTemplate>
            <p class="no-date-message">
                {{ 'infos.noDateSet' | translate }}
            </p>
        </ng-template>
    </div>
    <div *ngIf="infos().rulesUrl" class="infos-rules-url">
        <h2>
            <tui-icon icon="@tui.scale" [style.width.px]="16" />

            {{ 'infos.rulesUrl' | translate }}</h2>
        <a
            [href]="infos().rulesUrl"
            target="_blank"
        >
            {{ infos().rulesUrl }}
        </a>
    </div>
    <div class="infos-delegates">
        <h2>
            <tui-icon icon="@tui.users" [style.width.px]="16" />
            {{ 'infos.delegates' | translate }}
        </h2>
        <ul>
            <li *ngFor="let delegate of infos().delegates; let i = index">
                <div class="infos-delegates-delegate-title">
                    <span>
                        {{ delegate.firstName }} {{ delegate.lastName }}
                    </span>
                    <button
                        appearance="secondary"
                        size="xs"
                        tuiIconButton
                        type="button"
                        [tuiChevron]="!getDelegateSignal(i)()"
                        (click)="toggleDelegate(i)"
                    >
                        Expand
                    </button>
                </div>

                <tui-expand [expanded]="!getDelegateSignal(i)()">
                    <table tuiTable>
                        <tbody>
                            <tr *ngIf="delegate.email">
                                <td tuiTd>
                                    <b>
                                        {{ 'infos.delegate.email' | translate }}
                                    </b>
                                </td>
                                <td tuiTd>{{ delegate.email }}</td>
                            </tr>
                            <tr *ngIf="delegate.matrixUser">
                                <td tuiTd>
                                    <b>
                                        {{ 'infos.delegate.matrixUser' | translate }}
                                    </b>
                                </td>
                                <td tuiTd>{{ delegate.matrixUser }}</td>
                            </tr>
                            <tr *ngIf="delegate.building">
                                <td tuiTd>
                                    <b>
                                        {{ 'infos.delegate.building' | translate }}
                                    </b>
                                </td>
                                <td tuiTd>{{ delegate.building }}</td>
                            </tr>
                        </tbody>
                    </table>
                </tui-expand>

            </li>
        </ul>
    </div>
    <div class="infos-contact-numbers">
        <div
            *ngIf="hasSyndicContacts()"
            class="infos-contact-numbers-syndic"
        >
            <h2>
                <tui-icon icon="@tui.building-2" [style.width.px]="16" />
                {{ 'infos.contactNumbers.syndic.title' | translate }}
            </h2>
            <ul class="no-bullets">
                <li *ngFor="let syndic of getSyndicContacts(); let i = index">
                    <div class="infos-contact-numbers-syndic-title">
                        <span>{{ syndic.name }}</span>
                        <button
                            appearance="secondary"
                            size="xs"
                            tuiIconButton
                            type="button"
                            [tuiChevron]="!getSyndicSignal(i)()"
                            (click)="toggleSyndic(i)"
                        >
                            Expand
                        </button>
                    </div>
                    <tui-expand [expanded]="!getSyndicSignal(i)()">
                        <table tuiTable>
                            <tbody>
                                <tr *ngIf="syndic.email">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.syndic.email' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ syndic.email }}</td>
                                </tr>
                                <tr *ngIf="syndic.phoneNumber">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.syndic.phoneNumber' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ syndic.phoneNumber }}</td>
                                </tr>
                                <tr *ngIf="syndic.officeHours">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.syndic.officeHours' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.officeHours }}
                                    </td>
                                </tr>
                                <tr *ngIf="syndic.address">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.syndic.address' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.address }}
                                    </td>
                                </tr>
                                <tr *ngIf="syndic.type">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.type' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.type }}
                                    </td>
                                </tr>
                                <tr *ngIf="syndic.availability">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.availability' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.availability }}
                                    </td>
                                </tr>
                                <tr *ngIf="syndic.responseTime">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.responseTime' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.responseTime }}
                                    </td>
                                </tr>
                                <tr *ngIf="syndic.description">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.description' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>
                                        {{ syndic.description }}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tui-expand>
                </li>
            </ul>
        </div>
        <div
            *ngIf="getEmergencyContacts().length > 0"
            class="infos-contact-numbers-emergency"
        >
            <h2><tui-icon icon="@tui.phone" [style.width.px]="16" /> {{ 'infos.contactNumbers.emergency.title' | translate }}</h2>
            <ul>
                <li *ngFor="let emergency of getEmergencyContacts(); let i = index">
                    <div class="infos-contact-numbers-emergency-title">
                        <span>{{ emergency.type | titlecase }}</span>
                        <button
                            appearance="secondary"
                            size="xs"
                            tuiIconButton
                            type="button"
                            [tuiChevron]="!getEmergencySignal(i)()"
                            (click)="toggleEmergency(i)"
                        >
                            Expand
                        </button>
                    </div>
                    <tui-expand [expanded]="!getEmergencySignal(i)()">
                        <table tuiTable>
                            <tbody>
                                <tr *ngIf="emergency.name">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.emergency.name' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.name }}</td>
                                </tr>
                                <tr *ngIf="emergency.email">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.emergency.email' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.email }}</td>
                                </tr>
                                <tr *ngIf="emergency.phoneNumber">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.emergency.phoneNumber' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.phoneNumber }}</td>
                                </tr>
                                <tr *ngIf="emergency.officeHours">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.emergency.officeHours' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.officeHours }}</td>
                                </tr>
                                <tr *ngIf="emergency.address">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.emergency.address' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.address }}</td>
                                </tr>
                                <tr *ngIf="emergency.type">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.type' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.type }}</td>
                                </tr>
                                <tr *ngIf="emergency.availability">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.availability' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.availability }}</td>
                                </tr>
                                <tr *ngIf="emergency.responseTime">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.responseTime' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.responseTime }}</td>
                                </tr>
                                <tr *ngIf="emergency.description">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.description' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ emergency.description }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </tui-expand>
                </li>
            </ul>
        </div>
        <div
            *ngIf="getMaintenanceContacts().length > 0"
            class="infos-contact-numbers-maintenance"
        >
            <h2><tui-icon icon="@tui.settings" [style.width.px]="16" /> {{ 'infos.contactNumbers.maintenance.title' | translate }}</h2>
            <ul>
                <li *ngFor="let maintenance of getMaintenanceContacts(); let i = index">
                    <div class="infos-contact-numbers-maintenance-title">
                        <span>{{ maintenance.name }}</span>
                        <button
                            appearance="secondary"
                            size="xs"
                            tuiIconButton
                            type="button"
                            [tuiChevron]="!getMaintenanceSignal(i)()"
                            (click)="toggleMaintenance(i)"
                        >
                            Expand
                        </button>
                    </div>
                    <tui-expand [expanded]="!getMaintenanceSignal(i)()">
                        <table tuiTable>
                            <tbody>
                                <tr *ngIf="maintenance.name">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.maintenance.name' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.name }}</td>
                                </tr>
                                <tr *ngIf="maintenance.email">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.maintenance.email' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.email }}</td>
                                </tr>
                                <tr *ngIf="maintenance.phoneNumber">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.maintenance.phoneNumber' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.phoneNumber }}</td>
                                </tr>
                                <tr *ngIf="maintenance.officeHours">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.maintenance.officeHours' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.officeHours }}</td>
                                </tr>
                                <tr *ngIf="maintenance.address">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.maintenance.address' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.address }}</td>
                                </tr>
                                <tr *ngIf="maintenance.type">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.type' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.type }}</td>
                                </tr>
                                <tr *ngIf="maintenance.availability">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.availability' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.availability }}</td>
                                </tr>
                                <tr *ngIf="maintenance.responseTime">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.responseTime' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.responseTime }}</td>
                                </tr>
                                <tr *ngIf="maintenance.description">
                                    <td tuiTd>
                                        <b>
                                            {{ 'infos.contactNumbers.description' | translate }}
                                        </b>
                                    </td>
                                    <td tuiTd>{{ maintenance.description }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </tui-expand>
                </li>
            </ul>
        </div>
    </div>
</div>
