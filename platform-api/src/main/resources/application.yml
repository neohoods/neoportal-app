server:
  port: 8486
  ssl:
    enabled: false
  servlet:
    context-path: /api
  session:
    cookie:
      secure: true
      same-site: none
      http-only: true

management:
  tracing:
    enabled: true
    sampling:
      probability: 1.0
    otlp:
      endpoint: http://tempo.observability.svc.cluster.local:4317
  endpoints:
    web:
      base-path: /api/actuator
      exposure:
        include: health,info,metrics,prometheus
  otlp:
    metrics:
      export:
        enabled: false
        url: http://grafana-k8s-monitoring-alloy-receiver.monitoring.svc.cluster.local:4318/v1/metrics
  metrics:
    export:
      otlp:
        enabled: false # Disabled in local development
        url: http://otel-collector.observability.svc.cluster.local:4317/v1/metrics
    tags:
      application: neohoods-platform-api
      version: ${project.version:unknown}
      environment: ${SPRING_PROFILES_ACTIVE:production}
openapi:
  portalNeoHoods:
    base-path: /api

neohoods:
  portal:
    base-url: https://local.portal.neohoods.com:4200
    frontend-url: https://local.portal.neohoods.com:4200
    email:
      template:
        logo-url: ${neohoods.portal.frontend-url}/terres-de-laya-logo-bright.png
        app-name: Terres de Laya
        leafs-url: ${neohoods.portal.frontend-url}/leafs-primary-left.png
        leafs-accent-url: ${neohoods.portal.frontend-url}/leafs-accent.png
        notifications-url: ${neohoods.portal.frontend-url}/hub/settings/notifications
    auth0:
      domain: ${AUTH0_DOMAIN:terresdelaya.eu.auth0.com}
      client-id: ${AUTH0_CLIENT_ID}
      client-secret: ${AUTH0_CLIENT_SECRET}
      audience: ${AUTH0_AUDIENCE:https://terresdelaya.eu.auth0.com/api/v2/}
      connection: ${AUTH0_CONNECTION:Username-Password-Authentication}
mailersend:
  api-key: ${MAILERSEND_API_KEY}
  from:
    email: dev@mail.neohoods.com
    name: portal NeoHoods dev environment
spring:
  datasource:
    url: jdbc:postgresql://localhost:8433/neohoods-portal
    username: local
    password: local
  jpa:
    hibernate:
      ddl-auto: none # "update" pour dev, "validate" ou "none" pour prod
    show-sql: true # Affiche les requÃªtes SQL dans les logs
    properties:
      hibernate:
        format_sql: true

logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE # This shows the parameter values
  pattern:
    level: "%5p [traceId=%X{trace_id:-}, spanId=%X{span_id:-}] %logger{36} - %msg%n"
